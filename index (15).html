<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Дэшборд транспортной компании</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <div class="page">
    <header class="header">
      <div class="header__inner">
        <div class="header__logo">ЛК транспортной компании</div>
        <div class="header__date js-header-date">18 ноября</div>
      </div>
    </header>

    <main class="main">
      <section class="dashboard">
        <div class="dashboard__cards cards">

          <!-- КАРТОЧКА ПОГРУЗКА -->
          <div class="cards__item cards__item--load">
            <div class="card card--load">
              <div class="card__header">
                <div class="card__icon">
                  <img src="img/icons/load.svg" alt="Погрузка" />
                </div>
                <div class="card__title-wrap">
                  <div class="card__title">ПОГРУЗКА</div>
                </div>
              </div>

              <div class="card__body">
                <div class="card__main-number">
                  <span class="js-load-month">1 955</span>
                </div>
                <div class="card__main-caption">Погружено вагонов (месяц)</div>

                <div class="card__row card__row--mt">
                  <div class="card__label">Выполнение плана</div>
                  <div class="card__value card__value--accent">
                    <span class="js-load-plan-percent">92</span>%
                  </div>
                </div>

                <div class="card__progress">
                  <div class="card__progress-line">
                    <div class="card__progress-line-filled js-load-plan-bar" style="width:92%;"></div>
                  </div>
                </div>

                <div class="card__row">
                  <div class="card__label">По плану:</div>
                  <div class="card__value">
                    <span class="js-load-plan">2 124</span>
                  </div>
                </div>

                <div class="card__row">
                  <div class="card__label">Вчера погружено:</div>
                  <div class="card__value">
                    <span class="js-load-yesterday">115</span>
                  </div>
                </div>

                <div class="card__row">
                  <div class="card__label">План на месяц:</div>
                  <div class="card__value">
                    <span class="js-load-month-plan">3 550</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- КОНЕЦ КАРТОЧКИ ПОГРУЗКА -->

          <!-- КАРТОЧКА ЗАДОЛЖЕННОСТЬ (ОБЪЕДИНЁННАЯ С ПОСТУПЛЕНИЯМИ) -->
          <div class="cards__item cards__item--debt">
            <div class="card card--debt">
              <div class="card__header">
                <div class="card__icon">
                  <img src="img/icons/debt.svg" alt="Задолженность" />
                </div>
                <div class="card__title-wrap">
                  <div class="card__title">ЗАДОЛЖЕННОСТЬ</div>
                  <div class="card__subtitle">
                    Данные на <span class="js-debt-date">18 ноября</span>
                  </div>
                </div>
              </div>

              <div class="card__body">

                <!-- Общая задолженность -->
                <div class="card__row">
                  <div class="card__label">Общая задолженность:</div>
                  <div class="card__value">
                    <span class="js-debt-total">319.6</span> млн. р.
                  </div>
                </div>

                <!-- Просроченная задолженность -->
                <div class="card__row">
                  <div class="card__label">Просроченная:</div>
                  <div class="card__value card__value--warning">
                    <span class="js-debt-overdue">99.8</span> млн. р.
                  </div>
                </div>

                <!-- НОВАЯ СТРОКА: Поступления -->
                <div class="card__row">
                  <div class="card__label">Поступления:</div>
                  <div class="card__value">
                    <span class="js-payments-total">6.8</span> млн. р.
                  </div>
                </div>

                <!-- Доля просроченной -->
                <div class="card__row">
                  <div class="card__label">Доля просроченной</div>
                  <div class="card__value card__value--orange">
                    <span class="js-debt-overdue-share">31</span>%
                  </div>
                </div>

                <!-- Прогресс-бар доли просроченной -->
                <div class="card__progress">
                  <div class="card__progress-line">
                    <div class="card__progress-line-filled js-debt-overdue-bar" style="width:31%;"></div>
                  </div>
                </div>

                <!-- Кнопка: структура задолженности по клиентам -->
                <button
                  class="card__link card__link--toggle js-debt-clients-toggle"
                  type="button">
                  ▾ Развернуть структуру по клиентам
                </button>

                <!-- НОВАЯ КНОПКА: структура поступлений по клиентам -->
                <button
                  class="card__link card__link--toggle js-payments-clients-toggle"
                  type="button">
                  ▾ Развернуть поступления по клиентам
                </button>

                <!-- Таблица структуры по клиентам (как было; скрывается/показывается JS) -->
                <div class="card__table card__table--clients js-debt-clients-table">
                  <div class="card__table-head">
                    <div class="card__table-col card__table-col--name">Клиент</div>
                    <div class="card__table-col card__table-col--money">Просрочено, ₽</div>
                    <div class="card__table-col card__table-col--share">Доля от просрочки</div>
                  </div>
                  <div class="card__table-body js-debt-clients-rows">
                    <!-- строки клиентов добавляет JS -->
                  </div>
                </div>

                <!-- Таблица структуры поступлений по клиентам (новая, аналогичная) -->
                <div class="card__table card__table--clients js-payments-clients-table">
                  <div class="card__table-head">
                    <div class="card__table-col card__table-col--name">Клиент</div>
                    <div class="card__table-col card__table-col--money">Поступления, ₽</div>
                    <div class="card__table-col card__table-col--share">Доля в поступлениях</div>
                  </div>
                  <div class="card__table-body js-payments-clients-rows">
                    <!-- строки клиентов с поступлениями добавляет JS -->
                  </div>
                </div>

              </div>
            </div>
          </div>
          <!-- КОНЕЦ КАРТОЧКИ ЗАДОЛЖЕННОСТЬ -->

          <!-- КАРТОЧКА РЕМОНТЫ -->
          <div class="cards__item cards__item--repairs">
            <div class="card card--repairs">
              <div class="card__header">
                <div class="card__icon">
                  <img src="img/icons/repairs.svg" alt="Ремонты" />
                </div>
                <div class="card__title-wrap">
                  <div class="card__title">РЕМОНТЫ</div>
                </div>
              </div>

              <div class="card__body">

                <div class="card__repairs-item">
                  <div class="card__repairs-label">ТР</div>
                  <div class="card__repairs-sub">Текущий ремонт</div>
                  <div class="card__repairs-value">
                    <span class="js-repairs-tr-count">0</span>
                  </div>
                  <div class="card__repairs-share">
                    <span class="js-repairs-tr-share">0</span>% от парка
                  </div>
                </div>

                <div class="card__repairs-item">
                  <div class="card__repairs-label">КР</div>
                  <div class="card__repairs-sub">Капитальный ремонт</div>
                  <div class="card__repairs-value">
                    <span class="js-repairs-kr-count">0</span>
                  </div>
                  <div class="card__repairs-share">
                    <span class="js-repairs-kr-share">0</span>% от парка
                  </div>
                </div>

                <div class="card__repairs-item">
                  <div class="card__repairs-label">???</div>
                  <div class="card__repairs-sub">???</div>
                  <div class="card__repairs-value">
                    <span class="js-repairs-other-count">0</span>
                  </div>
                  <div class="card__repairs-share">
                    <span class="js-repairs-other-share">0</span>% от парка
                  </div>
                </div>

                <div class="card__row card__row--mt">
                  <div class="card__label">Всего вагонов в парке:</div>
                  <div class="card__value">
                    <span class="js-park-total">2 149</span>
                  </div>
                </div>

              </div>
            </div>
          </div>
          <!-- КОНЕЦ КАРТОЧКИ РЕМОНТЫ -->

        </div>

        <!-- ГРАФИК ДИНАМИКИ ПОГРУЗКИ -->
        <section class="dashboard__chart chart">
          <div class="chart__header">
            <div class="chart__title">Динамика погрузки за последние 7 дней</div>
          </div>
          <div class="chart__body">
            <canvas id="load-dynamics-chart"></canvas>
          </div>
        </section>
      </section>
    </main>

    <footer class="footer">
      <div class="footer__inner">
        © Транспортная компания
      </div>
    </footer>
  </div>

  <script src="js/chart.min.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
